<section>
    <div class="container">
        <div class="indexTop p-5">
            <div id="newArea" class="container stardewBorder">
                <h2 class="h1">New Area</h2>
                <form action="/areas" method="POST">
                    <label for="name">Name</label>
                    <input type="text" name="name" value="" required> 
                    <div class="pt-3 pb-3 d-flex justify-content-center">
                        <a class="me-4 btn btn-warning" href="/areas">Cancel</a>
                        <button class="btn btn-primary" type="submit">Create</button>
                    </div>
                </form>
            </div>
        </div>
        <br>

        <% if (locals.messages.errors) { %> <% messages.errors.forEach( el => { %>
        <div class="alert alert-danger text-center"><%= el.msg %></div>
        <% }) %> <% } %> 

        <% if(areas.length == 0){%>
            <p>Create some areas so that you can begin putting plants there</p>    
        <%} %>
        <% areas.forEach(area => {%>
            <div id="areaIndex" class="p-3 rounded-3 mt-4 container stardewBorder d-flex flex-column flex-md-row justify-content-between">
                <div class="text-center mb-3 mb-md-0"><%= area.name %></div>
                <div class="d-flex justify-content-between">
                    <a class="btn btn-success btn-lg me-md-3" href="/areas/<%= area.id %>">View</a>
                    <a class="btn btn-warning btn-lg me-md-3" href="/areas/<%= area.id %>/edit">Edit</a>
                    <%- include('../partials/deleteForm', 
                        {url: `/areas/${area.id}`})
                    %> 
                </div>
            </div>
        <% }) %>
    </div>
</section>


